/* * Copyright (c) 2008 Nokia Corporation. */#include "softkeys.as"// If there are repeared user inputs in the grid, they are put into this array// to highlight them (blink) because of an errorvar repeatCellIdArray : Array=[];// Update new boardHighlight position for gridfunction updateCursorPosition():Void {    // Calculate new (x,y) upper-left position for boardHighlight    currentCellColumn = newCellColumn;    currentCellRow = newCellRow;    currentCellIndex = currentCellRow*9+currentCellColumn;    grid.boardHighlight._x = grid["grid"+currentCellIndex]._x;    grid.boardHighlight._y = grid["grid"+currentCellIndex]._y;	grid.boardHighlight.gotoAndPlay("show");}// Update new focus position for Softpad// (variable identifying current cell movieclip is updated)function updateSoftFocusPosition():Void {    grid.softpad["softpad_cell"+currentSoftPadKeyIndex].gotoAndStop("UNSELECTED");    currentSoftPadKeyIndex = newSoftPadKeyIndex;		// Display different rollover effect for touch and key device    if (_root.main.isMouseDown) {        grid.softpad["softpad_cell"+newSoftPadKeyIndex].gotoAndStop("TOUCH_SELECTED");    } else {        grid.softpad["softpad_cell"+newSoftPadKeyIndex].gotoAndStop("SELECTED");    }}// Write a number into current selected cellfunction writeValueToCell(softValue:Number) {    _root.main.grid["grid"+_root.main.currentCellIndex].num.textColor = _root.main.userInputColor;	    if (_root.main.grid.checkResult(softValue, _root.main.currentCellRow, _root.main.currentCellColumn, _root.main.repeatCellIdArray)) {		//if there is repeated numbers found in same row, same column same cell group(3x3)         _root.main.grid.markRepeatCells(_root.main.repeatCellIdArray);    } else {       //no repeated numbers found        if (softValue == 10) {            //input is 0            if (_root.main.grid["grid"+_root.main.currentCellIndex].cellValue != 0) {                // current selected cell is not empty                _root.main.userMoves++                _root.main.emptyCellNums++;            }            _root.main.grid["grid"+_root.main.currentCellIndex].num.text = "";            _root.main.grid["grid"+_root.main.currentCellIndex].cellValue = 0;        } else {			//input is not 0            if (_root.main.grid["grid"+_root.main.currentCellIndex].cellValue != 0) {               }else			   {				// current selected cell is  empty                _root.main.userMoves++                _root.main.emptyCellNums--;                }            _root.main.grid["grid"+_root.main.currentCellIndex].num.text = softValue;            _root.main.grid["grid"+_root.main.currentCellIndex].cellValue = softValue;        }        if (emptyCellNums == 0) {			//if there is no empty cell left,game over            gameOver();        }    }}