# URL rewriting
Options -Indexes

RewriteEngine On
RewriteRule ^$ %{REQUEST_URI}editor [R=302]


RewriteRule ^editor$ block.html
RewriteRule ^block/([^/]*)/script	demo-scripts/block-js.php?id=$1
RewriteRule ^make-mashup$	demo-scripts/make-mashup.php
#RewriteCond REQUEST_FILENAME !-f
#RewriteRule ^xhr-proxy/(.*)	xhr-proxy/proxy.php?proxy_url=$1

RewriteRule ^x-taobao-search-page$	demo-scripts/taobao-search-page.php
RewriteRule ^x-jsonp-strip-iconv$	demo-scripts/jsonp_strip_iconv.php
RewriteRule ^x-cookie$	demo-scripts/set-mmashup-service.php

RewriteRule ^demo-test1$	make-mashup?map=\%5B\%7Bid\%3A\%20\%27Virtual\%20Earth\%20r7\%20\%28HIDN\%29\%201\%27\%2CtypeId\%3A\%20\%27Block1\%27\%2Cinputs\%3A\%20\%5B\%7Bname\%3A\%20\%27pushpin\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Flickr\%20Photos\%20r2\%200\%27\%7D\%5D\%7D\%2C\%7Bid\%3A\%20\%27Flickr\%20Photos\%20r2\%200\%27\%2CtypeId\%3A\%20\%27Block5\%27\%2Cinputs\%3A\%20\%5B\%5D\%7D\%5D&ref=Block5\%7CBlock1 [NE]
RewriteRule ^x-taobao$		make-mashup?map=[{id\%3A\%20\%27List\%20Viewer\%203\%27\%2CtypeId\%3A\%20\%27Block19\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27data\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Taobao\%20Product\%20Search\%202\%27}]}\%2C{id\%3A\%20\%27Taobao\%20Product\%20Search\%202\%27\%2CtypeId\%3A\%20\%27Block18\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27music_searches\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Douban\%20Music\%20Search\%201\%27}]}\%2C{id\%3A\%20\%27Douban\%20Music\%20Search\%201\%27\%2CtypeId\%3A\%20\%27Block17\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27artists\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Sample\%20Music\%200\%27}]}\%2C{id\%3A\%20\%27Sample\%20Music\%200\%27\%2CtypeId\%3A\%20\%27Block16\%27\%2Cinputs\%3A\%20[]}]&ref=Block16|Block17|Block18|Block19
RewriteRule ^x-demo1$		make-mashup?map=[{id\%3A\%20\%27List\%20Viewer\%203\%27\%2CtypeId\%3A\%20\%27Block19\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27data\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Douban\%20Actions\%200\%27}]}\%2C{id\%3A\%20\%27Sample\%20Contacts\%20r2\%202\%27\%2CtypeId\%3A\%20\%27Block9\%27\%2Cinputs\%3A\%20[]}\%2C{id\%3A\%20\%27Douban\%20User\%20Search\%201\%27\%2CtypeId\%3A\%20\%27Block11\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27queries\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Sample\%20Contacts\%20r2\%202\%27}]}\%2C{id\%3A\%20\%27Douban\%20Actions\%200\%27\%2CtypeId\%3A\%20\%27Block14\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27users\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Douban\%20User\%20Search\%201\%27}]}]&ref=Block14|Block11|Block9|Block19
RewriteRule ^x-demo2$		make-mashup?map=[{id\%3A\%20\%27Address\%20Locator\%205\%27\%2CtypeId\%3A\%20\%27Block13\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27locations\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Douban\%20Actions\%203\%27}]}\%2C{id\%3A\%20\%27Virtual\%20Earth\%20r7\%204\%27\%2CtypeId\%3A\%20\%27Block1\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27pushpin\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Address\%20Locator\%205\%27}]}\%2C{id\%3A\%20\%27Douban\%20Actions\%203\%27\%2CtypeId\%3A\%20\%27Block14\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27users\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Douban\%20Friends\%202\%27}]}\%2C{id\%3A\%20\%27Douban\%20Friends\%202\%27\%2CtypeId\%3A\%20\%27Block12\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27users\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Douban\%20User\%20Search\%201\%27}]}\%2C{id\%3A\%20\%27Douban\%20User\%20Search\%201\%27\%2CtypeId\%3A\%20\%27Block11\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27queries\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Sample\%20Contacts\%20r2\%200\%27}]}\%2C{id\%3A\%20\%27Sample\%20Contacts\%20r2\%200\%27\%2CtypeId\%3A\%20\%27Block9\%27\%2Cinputs\%3A\%20[]}]&ref=Block9|Block11|Block12|Block14|Block1|Block13
RewriteRule ^x-demo3$		make-mashup?map=[{id%3A%20%27Virtual%20Earth%20r7%203%27%2CtypeId%3A%20%27Block1%27%2Cinputs%3A%20[{name%3A%20%27pushpin%27%2C%20type%3A%200%2C%20blockId%3A%20%27Douban%20Activities%202%27}]}%2C{id%3A%20%27Douban%20Activities%202%27%2CtypeId%3A%20%27Block20%27%2Cinputs%3A%20[{name%3A%20%27locations%27%2C%20type%3A%200%2C%20blockId%3A%20%27Phone%20Number%20Locator%20r2%201%27}]}%2C{id%3A%20%27Phone%20Number%20Locator%20r2%201%27%2CtypeId%3A%20%27Block10%27%2Cinputs%3A%20[{name%3A%20%27phones%27%2C%20type%3A%200%2C%20blockId%3A%20%27Sample%20Contacts%20r2%200%27}]}%2C{id%3A%20%27Sample%20Contacts%20r2%200%27%2CtypeId%3A%20%27Block9%27%2Cinputs%3A%20[]}]&ref=Block9|Block10|Block20|Block1
RewriteRule ^x-flickr-bingmap$		make-mashup?map=[{id\%3A\%20\%27Virtual\%20Earth\%20r7\%201\%27\%2CtypeId\%3A\%20\%27Block1\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27pushpin\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Flickr\%20Photos\%20r2\%200\%27}]}\%2C{id\%3A\%20\%27Flickr\%20Photos\%20r2\%200\%27\%2CtypeId\%3A\%20\%27Block5\%27\%2Cinputs\%3A\%20[]}]&ref=Block5|Block1
RewriteRule ^x-weatherreport$		make-mashup?map=[{id\%3A\%20\%27Virtual\%20Earth\%20r7\%202\%27\%2CtypeId\%3A\%20\%27Block1\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27pushpin\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Weather\%20Report\%20v1.0\%201\%27}]}\%2C{id\%3A\%20\%27Weather\%20Report\%20v1.0\%201\%27\%2CtypeId\%3A\%20\%27Block2\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27locations\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Cities\%20\%2F\%20China\%20v1.0\%200\%27}]}\%2C{id\%3A\%20\%27Cities\%20\%2F\%20China\%20v1.0\%200\%27\%2CtypeId\%3A\%20\%27Block0\%27\%2Cinputs\%3A\%20[]}]&ref=Block0|Block2|Block1
RewriteRule ^x-doubanf-bingmap$		make-mashup?map=[{id\%3A\%20\%27Virtual\%20Earth\%20r7\%203\%27\%2CtypeId\%3A\%20\%27Block1\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27pushpin\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Address\%20Locator\%201\%27}]}\%2C{id\%3A\%20\%27Douban\%20User\%20Search\%202\%27\%2CtypeId\%3A\%20\%27Block11\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27queries\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Sample\%20Contacts\%20r2\%200\%27}]}\%2C{id\%3A\%20\%27Address\%20Locator\%201\%27\%2CtypeId\%3A\%20\%27Block13\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27locations\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Douban\%20User\%20Search\%202\%27}]}\%2C{id\%3A\%20\%27Sample\%20Contacts\%20r2\%200\%27\%2CtypeId\%3A\%20\%27Block9\%27\%2Cinputs\%3A\%20[]}]&ref=Block9|Block13|Block11|Block1
RewriteRule ^x-doubanf-list$		make-mashup?map=[{id\%3A\%20\%27List\%20Viewer\%202\%27\%2CtypeId\%3A\%20\%27Block19\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27data\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Douban\%20User\%20Search\%201\%27}]}\%2C{id\%3A\%20\%27Douban\%20User\%20Search\%201\%27\%2CtypeId\%3A\%20\%27Block11\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27queries\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Sample\%20Contacts\%20r2\%200\%27}]}\%2C{id\%3A\%20\%27Sample\%20Contacts\%20r2\%200\%27\%2CtypeId\%3A\%20\%27Block9\%27\%2Cinputs\%3A\%20[]}]&ref=Block9|Block11|Block19
RewriteRule ^x-flickr-list$			make-mashup?map=[{id\%3A\%20\%27List\%20Viewer\%201\%27\%2CtypeId\%3A\%20\%27Block19\%27\%2Cinputs\%3A\%20[{name\%3A\%20\%27data\%27\%2C\%20type\%3A\%200\%2C\%20blockId\%3A\%20\%27Flickr\%20Photos\%20r2\%200\%27}]}\%2C{id\%3A\%20\%27Flickr\%20Photos\%20r2\%200\%27\%2CtypeId\%3A\%20\%27Block5\%27\%2Cinputs\%3A\%20[]}]&ref=Block5|Block19
